spring.application.name=clothes-shop
# Server Configuration
server.port=${PORT:8080}
# R2DBC PostgreSQL Configuration (Railway environment variables)
spring.r2dbc.url=r2dbc:postgresql://${PGHOST:localhost}:${PGPORT:5432}/${PGDATABASE:ecommerce_db}
spring.r2dbc.username=${PGUSER:postgres}
spring.r2dbc.password=${PGPASSWORD:1234}
spring.r2dbc.pool.initial-size=5
spring.r2dbc.pool.max-size=10
spring.r2dbc.pool.max-idle-time=30m
spring.r2dbc.pool.validation-query=SELECT 1
# Logging
logging.level.com.ecommerce.clothesshop=${LOGGING_LEVEL:INFO}
# Paystack Configuration
paystack.api.key=${PAYSTACK_API_KEY:sk_test_3f4ed3ee01e4b3ea1dcf91b00caecdbadd0c8ade}
paystack.api.url=${PAYSTACK_API_URL:https://api.paystack.co}
paystack.callback.url=${PAYSTACK_CALLBACK_URL:http://localhost:8000/payment_callback.php}
# Resilience4j Circuit Breaker
resilience4j.circuitbreaker.instances.paymentService.registerHealthIndicator=true
resilience4j.circuitbreaker.instances.paymentService.slidingWindowSize=10
resilience4j.circuitbreaker.instances.paymentService.minimumNumberOfCalls=5
resilience4j.circuitbreaker.instances.paymentService.permittedNumberOfCallsInHalfOpenState=3
resilience4j.circuitbreaker.instances.paymentService.automaticTransitionFromOpenToHalfOpenEnabled=true
resilience4j.circuitbreaker.instances.paymentService.waitDurationInOpenState=10s
resilience4j.circuitbreaker.instances.paymentService.failureRateThreshold=50
resilience4j.circuitbreaker.instances.paymentService.eventConsumerBufferSize=10
# Resilience4j Retry
resilience4j.retry.instances.paymentService.maxAttempts=3
resilience4j.retry.instances.paymentService.waitDuration=1s
resilience4j.retry.instances.paymentService.enableExponentialBackoff=true
resilience4j.retry.instances.paymentService.exponentialBackoffMultiplier=2
# Resilience4j TimeLimiter
resilience4j.timelimiter.instances.paymentService.timeoutDuration=5s
# Actuator
management.endpoints.web.exposure.include=health,metrics,circuitbreakers
management.endpoint.health.show-details=always
management.health.circuitbreakers.enabled=true
management.health.db.enabled=true
management.health.defaults.enabled=true
management.endpoint.health.probes.enabled=true
management.health.livenessState.enabled=true
management.health.readinessState.enabled=true
